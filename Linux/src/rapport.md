# Linux
## Part 1. Установка ОС

- Версия Ubuntu после установки

![part1](src/images/part1.png)

## Part 2. Создание пользователя

- Команда создания пользователя с добавлением его в группу adm

![part2_1](src/images/part2_1.png)

- Вывод команды `cat /etc/passwd`

![part2_1](src/images/part2_2.png)

## Part 3. Настройка сети ОС

- Задать название машины вида user-1

> `sudo hostnamectl set-hostname user-1`

- Установить временную зону, соответствующую вашему текущему местоположению.

> `sudo timedatectl set-timezone Europe/Moscow`

- Вывести названия сетевых интерфейсов с помощью консольной команды.

> `ip a`

- lo (loopback device) – виртуальный интерфейс, присутствующий по умолчанию в любом Linux. Нужен для использования локального сервера без наличия доступа в интернет.

- Используя консольную команду получить ip адрес устройства, на котором вы работаете, от DHCP сервера.

> `ip r`

- DHCP (Dynamic Host Configuration Protocol — протокол динамической настройки узла) — прикладной протокол, позволяющий сетевым устройствам автоматически получать IP-адрес и другие параметры, необходимые для работы в сети TCP/IP.

- Определить и вывести на экран внешний ip-адрес шлюза (ip) и внутренний IP-адрес шлюза, он же ip-адрес по умолчанию (gw).

> `ip route` 

внешний ip-адрес шлюза - 10.0.2.2 
внутренний IP-адрес шлюза - 192.168.1.1

- Задать статичные (заданные вручную, а не полученные от DHCP сервера) настройки ip, gw, dns. На изображении конфигурационный файл.

> `sudo vim /etc/netplan/00-installer-config.yaml`

![part3_1](src/images/part3_1.png)

- Пропингованные хосты 1.1.1.1 и ya.ru

![part3_2](src/images/part3_2.png)

![part3_3](src/images/part3_3.png)

## Part 4. Обновление ОС

- Сообщение, что обновления отсутствуют

![part4](src/images/part4.png)

## Part 5. Использование команды sudo

- sudo (Substitute User and do, дословно «подменить пользователя и выполнить») - утилита, предоставляющая привелегии root (super user) для выполнения административных операций

![part5](src/images/part5.png)

## Part 6. Установка и настройка службы времени

- Вывод команды `timedatectl show`:

![part6](src/images/part6.png)

## Part 7. Установка и использование текстовых редакторов

- Текстовый редактор vim:

- Для выхода с сохранением нажал ESC, затем ввел `:wq`. Для выхода без сохранения нажал ESC, затем ввел `:q!`

![part7_1_vim](src/images/part7_1_vim.png)

![part7_2_vim](src/images/part7_2_vim.png)

- Для поиска я нажал ESC, затем ввел `/"Строка_Для_Поиска"`

![part7_3_vim](src/images/part7_3_vim.png)

- Текстовый редактор nano:

- Для выхода с сохранением нажал CTRL+X, затем Y, затем ENTER. Для выхода без сохранения нажал CTRL+X, затем N

![part7_1_nano](src/images/part7_1_nano.png)

![part7_2_nano](src/images/part7_2_nano.png)

- Для поиска я нажал ALT+R, затем ввел строку для поиска

![part7_3_nano](src/images/part7_3_nano.png)

- Текстовый редактор mcedit:

- Для выхода с сохранением нажал F2, затем F10. Для выхода без сохранения нажал F10 и выбрал пункт NO

![part7_1_mcedit](src/images/part7_1_mcedit.png)

![part7_2_mcedit](src/images/part7_2_mcedit.png)

- Для поиска я нажал F7 и ввел строку для поиска

![part7_3_mcedit](src/images/part7_3_mcedit.png)

## Part 8. Установка и базовая настройка сервиса SSHD

- Установка sshd: `sudo apt install openssh-server`
- Запуск серсиса `sudo systemctl enable ssh.service`
- Настройка конфига `vim /etc/ssh/sshd_config` , в котором необходимо раскомментировать 4 строки (Port, AddressFamily, ListenAddress, ListenAddress). Порт ставим 2022
- Перезагружаем систему

- Вывод команды `netstat -tan` с нужной строкой

![part8](src/images/part8.png)

- Команда ps нужна для того, чтобы просмотреть текущие процессы

### Ключи команды ps: 

- -A, -e, (a) - выбрать все процессы;
- -a - выбрать все процессы, кроме фоновых;
- -d, (g) - выбрать все процессы, даже фоновые, кроме процессов сессий;
- -N - выбрать все процессы кроме указанных;
- -С - выбирать процессы по имени команды;
- -G - выбрать процессы по ID группы;
- -p, (p) - выбрать процессы PID;
- --ppid - выбрать процессы по PID родительского процесса;
- -s - выбрать процессы по ID сессии;
- -t, (t) - выбрать процессы по tty;
- -u, (U) - выбрать процессы пользователя.
- -с - отображать информацию планировщика;
- -f - вывести максимум доступных данных, например, количество потоков;
- -F - аналогично -f, только выводит ещё больше данных;
- -l - длинный формат вывода;
- -j, (j) - вывести процессы в стиле Jobs, минимум информации;
- -M, (Z) - добавить информацию о безопасности;
- -o, (o) - позволяет определить свой формат вывода;
- --sort, (k) - выполнять сортировку по указанной колонке;
- -L, (H)- отображать потоки процессов в колонках LWP и NLWP;
- -m, (m) - вывести потоки после процесса;
- -V, (V) - вывести информацию о версии;
- -H - отображать дерево процессов;


### Ключи -tan команды netstat: 

- -t - Отображение текущего подключения в состоянии переноса нагрузки с процессора на сетевой адаптер при передаче данных ( "offload" ).
- -a - Отображение всех подключений и ожидающих портов.
- -n - Отображение адресов и номеров портов в числовом формате.

### Столбцы команды `netstat -tan`

- Proto - Используемый протокол (tcp, udp, udpl, raw)

- Recv-Q - Количество байтов, не скопированных пользовательской программой, подключенной к этому сокету

- Send-Q - Количество байтов, не подтвержденных удаленным хостом

- Local Address - Адрес и номер порта локального конца сокета

- Foreign Address - Адрес и номер порта удаленного конца сокета

- State - Состояние сокета

## Part 9. Установка и использование утилит top, htop

### top

- uptime - 6 min
- количество авторизированных пользователей - 1
- Общая загрузка системы - 0,09
- Общее количество процессов - 108
- Загрузка CPU - 0,2
- Загрузка памяти - 174,2
- PID процесса, занимающего больше всего памяти - 1 (systemd)
- PID процесса, занимающего больше всего процессорного времени - 1 (systemd)

![part9_top](src/images/part9_top.png)

- Сортировка по PID в htop

![part9_htopPID](src/images/part9_htopPID.png)

- Сортировка по PERCENT_CPU в htop

![part9_htopPERCENT_CPU](src/images/part9_htopPERCENT_CPU.png)

- Сортировка по PERCENT_MEM в htop

![part9_htopPERCENT_MEM](src/images/part9_htopPERCENT_MEM.png)

- Сортировка по TIME в htop

![part9_htopTIME](src/images/part9_htopTIME.png)

- Фильтр для процесса sshd

![part9_htopSSHD](src/images/part9_htopSSHD.png)

- Процесс syslog, найденный, используя поиск

![part9_htopSYSLOG](src/images/part9_htopSYSLOG.png)

- Добавленный вывод hostname, clock и uptime

![part9_htopHOSTCLOCK](src/images/part9_htopHOSTCLOCK.png)

## Part 10. Использование утилиты fdisk

- Название диска - /dev/sda
- Размер диска - 50 Gb
- Количество секторов - 104857600
- Размер swap - 4198399

## Part 11. Использование утилиты df

### `df`

- Размер раздела - 24590672
- Размер занятого пространства - 7341764
- Размер свободного пространства - 15974440
- Процент использования - 32%
- Единица измерения - Kb

### `df -Th`

- Размер раздела - 24G
- Размер занятого пространства - 7.1G
- Размер свободного пространства - 16G
- Процент использования - 32%
- Тип файловой системы для раздела - ext4

## Part 12. Использование утилиты du

- Вывод размера папок /home, /var, /var/log

![part12](src/images/part12.png)

## Part 13. Установка и использование утилиты ncdu

- папка /home

![part13_home](src/images/part13_home.png)

- папка /var

![part13_var](src/images/part13_var.png)

- папка /var/log

![part13_var_log](src/images/part13_var_log.png)

## Part 14. Работа с системными журналами

- Время последнего входа - 16:23
- Имя пользователя - regulusb
- Метод входа в систему - tty1

- Отчет о рестарте службы

![part14](src/images/part14.png)

## Part 15. Использование планировщика заданий CRON

- Системный журнал с задачей

![part15_1](src/images/part15_1.png)

- Файл crontab

![part15_2](src/images/part15_2.png)

- Очистка задач

![part15_3](src/images/part15_3.png)
